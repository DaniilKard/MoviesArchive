Инструкция по созданию сервиса:

1. Скачать проект с GitHub;

2. Создать базу данных с помощью скрипта "DB script.txt";

3. Открыть solution проекта (.sln файл);

4. Нажать ПКМ "MoviesArchive.Web" > Publish;

5. В открывшемся окне нажать "Add a publish profile" > Folder > Finish > Close;

6. Нажать "Show all settings" и убедиться, что выбраны следующие значения:
Configuration: Release
Target Framework: net9.0
Deployment Mode: Self-contained
Target Runtime: win-x64

7. В списке "File Publish Options" должны быть отмечены ТОЛЬКО пункты:
☑ Produce single file
☑ Enable ReadyToRun compilation
☑ Delete all existing files prior to publish

8. Нажать кнопку "Publish";

9. Когда появится окно "Publish succeeded on ..." нажать на "Navigate";

10. Нажать Windows + R > написать "cmd" > Enter;

11. В открывшейся консоли написать следующую команду (заменив путь к файлу MoviesArchive.exe на тот, который открылся ранее при нажатии на кнопку "Navigate"):

sc create MoviesArchive binpath= "C:\Users\user\Desktop\MoviesArchive\MoviesArchive-master\Web\bin\Release\net9.0\win-x64\publish\MoviesArchive.Web.exe"

должно появиться сообщение:

[SC] CreateService SUCCESS

12. Открыть приложение Windows Services. Это можно сделать нажав Windows+R > написать "services.msc" > Enter;

13. Найти сервис "MoviesArchive" и запустить его (например, ПКМ > Start). Если появилась ошибка 1053, см. пункт 13.1;
13.1 Для решения ошибки нужно нажать ПКМ по сервису > Properties > Log On > This Account > Browse > Advanced > Find Now;
13.2 Из списка Search Results выбрать текущего пользователя (его имя совпадает с именем пользователя в папке C:\Users) и, при необходимости, ввести для него пароль;
13.3 Нажать Apply в окне "MoviesArchive Properties";

14. Снова попробовать запустить сервис MoviesArchive;

15. Теперь можно открыть страницу входа на сайт по адресу:

https://localhost:5001/user/login

16. Для удаления сервиса нужно сначала его остановить, а затем написать команду:

sc delete MoviesArchive